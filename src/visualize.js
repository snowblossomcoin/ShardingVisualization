let data = {"nodes":[{"name":"s7h212-00001833c5b1","id":1,"shard":7,"group":"s7","timestamp":1621251206381,"height":212},{"name":"s7h211-000000f4cb96","id":2,"shard":7,"group":"s7","timestamp":1621250728281,"height":211},{"name":"s7h210-000000e44688","id":3,"shard":7,"group":"s7","timestamp":1621249667454,"height":210},{"name":"s7h209-00000581f984","id":4,"shard":7,"group":"s7","timestamp":1621249177489,"height":209},{"name":"s7h208-00001e55bbf4","id":5,"shard":7,"group":"s7","timestamp":1621248669697,"height":208},{"name":"s7h207-00000548ad91","id":6,"shard":7,"group":"s7","timestamp":1621247609580,"height":207},{"name":"s7h206-00000d813f8e","id":7,"shard":7,"group":"s7","timestamp":1621247176921,"height":206},{"name":"s7h205-0000140f1ccd","id":8,"shard":7,"group":"s7","timestamp":1621246633278,"height":205},{"name":"s7h204-000001a01ca9","id":9,"shard":7,"group":"s7","timestamp":1621246060749,"height":204},{"name":"s7h203-00001e5b20f3","id":10,"shard":7,"group":"s7","timestamp":1621245660399,"height":203},{"name":"s8h212-000011109fec","id":11,"shard":8,"group":"s8","timestamp":1621252017589,"height":212},{"name":"s8h211-00001fe90492","id":12,"shard":8,"group":"s8","timestamp":1621251146170,"height":211},{"name":"s8h210-00000dc9ed0d","id":13,"shard":8,"group":"s8","timestamp":1621250027715,"height":210},{"name":"s8h209-00000ab2462a","id":14,"shard":8,"group":"s8","timestamp":1621249492670,"height":209},{"name":"s8h208-00001829d7b3","id":15,"shard":8,"group":"s8","timestamp":1621248424764,"height":208},{"name":"s8h207-000015c53b15","id":16,"shard":8,"group":"s8","timestamp":1621248024365,"height":207},{"name":"s8h206-000005086a75","id":17,"shard":8,"group":"s8","timestamp":1621247220123,"height":206},{"name":"s8h205-00000487ce66","id":18,"shard":8,"group":"s8","timestamp":1621246716446,"height":205},{"name":"s8h204-000004c97ff1","id":19,"shard":8,"group":"s8","timestamp":1621246387671,"height":204},{"name":"s8h203-00001ee11412","id":20,"shard":8,"group":"s8","timestamp":1621245441697,"height":203},{"name":"s9h213-000015ee172a","id":21,"shard":9,"group":"s9","timestamp":1621252173604,"height":213},{"name":"s9h212-0000153bdcc6","id":22,"shard":9,"group":"s9","timestamp":1621251485977,"height":212},{"name":"s9h211-00001c85db7d","id":23,"shard":9,"group":"s9","timestamp":1621250885990,"height":211},{"name":"s9h210-00001fc5640d","id":24,"shard":9,"group":"s9","timestamp":1621250452352,"height":210},{"name":"s9h209-00001cc5b867","id":25,"shard":9,"group":"s9","timestamp":1621249606843,"height":209},{"name":"s9h208-00000987c155","id":26,"shard":9,"group":"s9","timestamp":1621248270675,"height":208},{"name":"s9h207-0000172e3f97","id":27,"shard":9,"group":"s9","timestamp":1621247471916,"height":207},{"name":"s9h206-0000182c3514","id":28,"shard":9,"group":"s9","timestamp":1621247288361,"height":206},{"name":"s9h205-00000ad539de","id":29,"shard":9,"group":"s9","timestamp":1621246793690,"height":205},{"name":"s9h204-0000181e7ae9","id":30,"shard":9,"group":"s9","timestamp":1621246312774,"height":204},{"name":"s10h212-00001da4e537","id":31,"shard":10,"group":"s10","timestamp":1621252005753,"height":212},{"name":"s10h211-000001494c42","id":32,"shard":10,"group":"s10","timestamp":1621251195208,"height":211},{"name":"s10h210-00001dfd9b9c","id":33,"shard":10,"group":"s10","timestamp":1621250467244,"height":210},{"name":"s10h209-000013c34dac","id":34,"shard":10,"group":"s10","timestamp":1621249024599,"height":209},{"name":"s10h208-00000af3df42","id":35,"shard":10,"group":"s10","timestamp":1621248989490,"height":208},{"name":"s10h207-000001f3d49e","id":36,"shard":10,"group":"s10","timestamp":1621247628400,"height":207},{"name":"s10h206-0000148fe014","id":37,"shard":10,"group":"s10","timestamp":1621247197746,"height":206},{"name":"s10h205-00001d88e2e7","id":38,"shard":10,"group":"s10","timestamp":1621246494104,"height":205},{"name":"s10h204-0000081e3e5e","id":39,"shard":10,"group":"s10","timestamp":1621245818965,"height":204},{"name":"s10h203-00000ab7b7b1","id":40,"shard":10,"group":"s10","timestamp":1621245192205,"height":203},{"name":"s11h212-000012594cb3","id":41,"shard":11,"group":"s11","timestamp":1621251909753,"height":212},{"name":"s11h211-00000522ccdf","id":42,"shard":11,"group":"s11","timestamp":1621250699238,"height":211},{"name":"s11h210-000011a122ee","id":43,"shard":11,"group":"s11","timestamp":1621250402829,"height":210},{"name":"s11h209-00000c5f8077","id":44,"shard":11,"group":"s11","timestamp":1621249617156,"height":209},{"name":"s11h208-0000060f4b62","id":45,"shard":11,"group":"s11","timestamp":1621248177493,"height":208},{"name":"s11h207-00000010d79a","id":46,"shard":11,"group":"s11","timestamp":1621247749912,"height":207},{"name":"s11h206-000015d66370","id":47,"shard":11,"group":"s11","timestamp":1621247158803,"height":206},{"name":"s11h205-000005283947","id":48,"shard":11,"group":"s11","timestamp":1621246474466,"height":205},{"name":"s11h204-00000400d15e","id":49,"shard":11,"group":"s11","timestamp":1621246040168,"height":204},{"name":"s11h203-00000fff5a20","id":50,"shard":11,"group":"s11","timestamp":1621245715085,"height":203},{"name":"s12h213-0000133e512a","id":51,"shard":12,"group":"s12","timestamp":1621252122616,"height":213},{"name":"s12h212-00000374a77f","id":52,"shard":12,"group":"s12","timestamp":1621251898238,"height":212},{"name":"s12h211-0000181621c0","id":53,"shard":12,"group":"s12","timestamp":1621251035742,"height":211},{"name":"s12h210-0000042b656a","id":54,"shard":12,"group":"s12","timestamp":1621250477743,"height":210},{"name":"s12h209-00000b56ab94","id":55,"shard":12,"group":"s12","timestamp":1621249531862,"height":209},{"name":"s12h208-00000e083a3e","id":56,"shard":12,"group":"s12","timestamp":1621248888961,"height":208},{"name":"s12h207-00000dabf494","id":57,"shard":12,"group":"s12","timestamp":1621247882455,"height":207},{"name":"s12h206-00000ae4419d","id":58,"shard":12,"group":"s12","timestamp":1621247107513,"height":206},{"name":"s12h205-00000c3f6c1f","id":59,"shard":12,"group":"s12","timestamp":1621246938154,"height":205},{"name":"s12h204-000015e6c2aa","id":60,"shard":12,"group":"s12","timestamp":1621246026640,"height":204},{"name":"s13h213-00000642a237","id":61,"shard":13,"group":"s13","timestamp":1621252099000,"height":213},{"name":"s13h212-00000bd52a48","id":62,"shard":13,"group":"s13","timestamp":1621251720729,"height":212},{"name":"s13h211-000009ec0e7d","id":63,"shard":13,"group":"s13","timestamp":1621250489551,"height":211},{"name":"s13h210-00000dfbe04d","id":64,"shard":13,"group":"s13","timestamp":1621250327705,"height":210},{"name":"s13h209-00001212e231","id":65,"shard":13,"group":"s13","timestamp":1621249124501,"height":209},{"name":"s13h208-00001e24a8e9","id":66,"shard":13,"group":"s13","timestamp":1621248963997,"height":208},{"name":"s13h207-00000a61dec0","id":67,"shard":13,"group":"s13","timestamp":1621247671400,"height":207},{"name":"s13h206-000017153f1c","id":68,"shard":13,"group":"s13","timestamp":1621247116900,"height":206},{"name":"s13h205-00000670bf87","id":69,"shard":13,"group":"s13","timestamp":1621247008625,"height":205},{"name":"s13h204-000003bf00d0","id":70,"shard":13,"group":"s13","timestamp":1621246424261,"height":204},{"name":"s14h212-00001254065f","id":71,"shard":14,"group":"s14","timestamp":1621251853246,"height":212},{"name":"s14h211-00001a7c5eb1","id":72,"shard":14,"group":"s14","timestamp":1621250485817,"height":211},{"name":"s14h210-00001b89ddfa","id":73,"shard":14,"group":"s14","timestamp":1621250024519,"height":210},{"name":"s14h209-00000354c195","id":74,"shard":14,"group":"s14","timestamp":1621249050577,"height":209},{"name":"s14h208-00001296ad63","id":75,"shard":14,"group":"s14","timestamp":1621248588044,"height":208},{"name":"s14h207-000004421a8d","id":76,"shard":14,"group":"s14","timestamp":1621248079188,"height":207},{"name":"s14h206-0000149658be","id":77,"shard":14,"group":"s14","timestamp":1621247446665,"height":206},{"name":"s14h205-00000bac6738","id":78,"shard":14,"group":"s14","timestamp":1621246898755,"height":205},{"name":"s14h204-000018067c0a","id":79,"shard":14,"group":"s14","timestamp":1621246108654,"height":204},{"name":"s14h203-00000a05a2de","id":80,"shard":14,"group":"s14","timestamp":1621245456609,"height":203}],"links":[{"parent":1,"source":1,"target":2},{"import":1,"source":1,"target":43},{"import":1,"source":1,"target":42},{"import":1,"source":1,"target":33},{"import":1,"source":1,"target":32},{"import":1,"source":1,"target":64},{"import":1,"source":1,"target":63},{"import":1,"source":1,"target":13},{"import":1,"source":1,"target":12},{"import":1,"source":1,"target":24},{"import":1,"source":1,"target":23},{"import":1,"source":1,"target":54},{"import":1,"source":1,"target":53},{"import":1,"source":1,"target":73},{"import":1,"source":1,"target":72},{"parent":1,"source":2,"target":3},{"parent":1,"source":3,"target":4},{"import":1,"source":3,"target":66},{"import":1,"source":3,"target":65},{"import":1,"source":3,"target":35},{"import":1,"source":3,"target":34},{"import":1,"source":3,"target":56},{"import":1,"source":3,"target":55},{"import":1,"source":3,"target":74},{"import":1,"source":3,"target":14},{"import":1,"source":3,"target":44},{"import":1,"source":3,"target":25},{"parent":1,"source":4,"target":5},{"parent":1,"source":5,"target":6},{"import":1,"source":5,"target":67},{"import":1,"source":5,"target":76},{"import":1,"source":5,"target":75},{"import":1,"source":5,"target":16},{"import":1,"source":5,"target":15},{"import":1,"source":5,"target":36},{"import":1,"source":5,"target":57},{"import":1,"source":5,"target":46},{"import":1,"source":5,"target":45},{"import":1,"source":5,"target":26},{"parent":1,"source":6,"target":7},{"import":1,"source":6,"target":17},{"import":1,"source":6,"target":28},{"import":1,"source":6,"target":27},{"import":1,"source":6,"target":77},{"import":1,"source":6,"target":37},{"parent":1,"source":7,"target":8},{"import":1,"source":7,"target":78},{"import":1,"source":7,"target":18},{"import":1,"source":7,"target":69},{"import":1,"source":7,"target":68},{"import":1,"source":7,"target":59},{"import":1,"source":7,"target":58},{"import":1,"source":7,"target":29},{"import":1,"source":7,"target":47},{"parent":1,"source":8,"target":9},{"import":1,"source":8,"target":50},{"import":1,"source":8,"target":49},{"import":1,"source":8,"target":48},{"import":1,"source":8,"target":30},{"import":1,"source":8,"target":60},{"import":1,"source":8,"target":39},{"import":1,"source":8,"target":38},{"import":1,"source":8,"target":79},{"import":1,"source":8,"target":70},{"import":1,"source":8,"target":19},{"parent":1,"source":9,"target":10},{"import":1,"source":10,"target":40},{"import":1,"source":10,"target":80},{"import":1,"source":10,"target":20},{"parent":1,"source":11,"target":12},{"import":1,"source":11,"target":1},{"import":1,"source":11,"target":24},{"import":1,"source":11,"target":23},{"import":1,"source":11,"target":33},{"import":1,"source":11,"target":32},{"import":1,"source":11,"target":43},{"import":1,"source":11,"target":42},{"import":1,"source":11,"target":54},{"import":1,"source":11,"target":53},{"import":1,"source":11,"target":64},{"import":1,"source":11,"target":63},{"import":1,"source":11,"target":73},{"import":1,"source":11,"target":72},{"parent":1,"source":12,"target":13},{"import":1,"source":12,"target":2},{"parent":1,"source":13,"target":14},{"import":1,"source":13,"target":3},{"import":1,"source":13,"target":25},{"import":1,"source":13,"target":35},{"import":1,"source":13,"target":34},{"import":1,"source":13,"target":44},{"import":1,"source":13,"target":56},{"import":1,"source":13,"target":55},{"import":1,"source":13,"target":66},{"import":1,"source":13,"target":65},{"import":1,"source":13,"target":74},{"parent":1,"source":14,"target":15},{"import":1,"source":14,"target":5},{"import":1,"source":14,"target":4},{"import":1,"source":14,"target":26},{"import":1,"source":14,"target":36},{"import":1,"source":14,"target":46},{"import":1,"source":14,"target":45},{"import":1,"source":14,"target":57},{"import":1,"source":14,"target":67},{"import":1,"source":14,"target":76},{"import":1,"source":14,"target":75},{"parent":1,"source":15,"target":16},{"parent":1,"source":16,"target":17},{"import":1,"source":16,"target":6},{"import":1,"source":16,"target":28},{"import":1,"source":16,"target":27},{"import":1,"source":16,"target":37},{"import":1,"source":16,"target":77},{"parent":1,"source":17,"target":18},{"import":1,"source":17,"target":7},{"import":1,"source":17,"target":29},{"import":1,"source":17,"target":47},{"import":1,"source":17,"target":59},{"import":1,"source":17,"target":58},{"import":1,"source":17,"target":69},{"import":1,"source":17,"target":68},{"import":1,"source":17,"target":78},{"parent":1,"source":18,"target":19},{"import":1,"source":18,"target":8},{"import":1,"source":18,"target":30},{"import":1,"source":18,"target":39},{"import":1,"source":18,"target":38},{"import":1,"source":18,"target":50},{"import":1,"source":18,"target":49},{"import":1,"source":18,"target":48},{"import":1,"source":18,"target":60},{"import":1,"source":18,"target":70},{"import":1,"source":18,"target":79},{"parent":1,"source":19,"target":20},{"import":1,"source":19,"target":10},{"import":1,"source":19,"target":9},{"import":1,"source":19,"target":40},{"import":1,"source":19,"target":80},{"parent":1,"source":21,"target":22},{"parent":1,"source":22,"target":23},{"import":1,"source":22,"target":1},{"import":1,"source":22,"target":13},{"import":1,"source":22,"target":12},{"import":1,"source":22,"target":33},{"import":1,"source":22,"target":32},{"import":1,"source":22,"target":43},{"import":1,"source":22,"target":42},{"import":1,"source":22,"target":54},{"import":1,"source":22,"target":53},{"import":1,"source":22,"target":64},{"import":1,"source":22,"target":63},{"import":1,"source":22,"target":73},{"import":1,"source":22,"target":72},{"parent":1,"source":23,"target":24},{"import":1,"source":23,"target":2},{"parent":1,"source":24,"target":25},{"import":1,"source":24,"target":3},{"import":1,"source":24,"target":14},{"import":1,"source":24,"target":35},{"import":1,"source":24,"target":34},{"import":1,"source":24,"target":44},{"import":1,"source":24,"target":56},{"import":1,"source":24,"target":55},{"import":1,"source":24,"target":66},{"import":1,"source":24,"target":65},{"import":1,"source":24,"target":74},{"parent":1,"source":25,"target":26},{"import":1,"source":25,"target":5},{"import":1,"source":25,"target":4},{"import":1,"source":25,"target":16},{"import":1,"source":25,"target":15},{"import":1,"source":25,"target":36},{"import":1,"source":25,"target":46},{"import":1,"source":25,"target":45},{"import":1,"source":25,"target":57},{"import":1,"source":25,"target":67},{"import":1,"source":25,"target":76},{"import":1,"source":25,"target":75},{"parent":1,"source":26,"target":27},{"import":1,"source":26,"target":6},{"import":1,"source":26,"target":17},{"import":1,"source":26,"target":37},{"import":1,"source":26,"target":77},{"parent":1,"source":27,"target":28},{"parent":1,"source":28,"target":29},{"import":1,"source":28,"target":7},{"import":1,"source":28,"target":18},{"import":1,"source":28,"target":47},{"import":1,"source":28,"target":59},{"import":1,"source":28,"target":58},{"import":1,"source":28,"target":69},{"import":1,"source":28,"target":68},{"import":1,"source":28,"target":78},{"parent":1,"source":29,"target":30},{"import":1,"source":29,"target":8},{"import":1,"source":29,"target":19},{"import":1,"source":29,"target":39},{"import":1,"source":29,"target":38},{"import":1,"source":29,"target":50},{"import":1,"source":29,"target":49},{"import":1,"source":29,"target":48},{"import":1,"source":29,"target":60},{"import":1,"source":29,"target":70},{"import":1,"source":29,"target":79},{"import":1,"source":30,"target":9},{"parent":1,"source":31,"target":32},{"import":1,"source":31,"target":1},{"import":1,"source":31,"target":13},{"import":1,"source":31,"target":12},{"import":1,"source":31,"target":24},{"import":1,"source":31,"target":23},{"import":1,"source":31,"target":43},{"import":1,"source":31,"target":42},{"import":1,"source":31,"target":54},{"import":1,"source":31,"target":53},{"import":1,"source":31,"target":64},{"import":1,"source":31,"target":63},{"import":1,"source":31,"target":73},{"import":1,"source":31,"target":72},{"parent":1,"source":32,"target":33},{"import":1,"source":32,"target":2},{"parent":1,"source":33,"target":34},{"import":1,"source":33,"target":4},{"import":1,"source":33,"target":3},{"import":1,"source":33,"target":14},{"import":1,"source":33,"target":25},{"import":1,"source":33,"target":44},{"import":1,"source":33,"target":56},{"import":1,"source":33,"target":55},{"import":1,"source":33,"target":66},{"import":1,"source":33,"target":65},{"import":1,"source":33,"target":74},{"parent":1,"source":34,"target":35},{"parent":1,"source":35,"target":36},{"import":1,"source":35,"target":5},{"import":1,"source":35,"target":16},{"import":1,"source":35,"target":15},{"import":1,"source":35,"target":26},{"import":1,"source":35,"target":46},{"import":1,"source":35,"target":45},{"import":1,"source":35,"target":57},{"import":1,"source":35,"target":67},{"import":1,"source":35,"target":76},{"import":1,"source":35,"target":75},{"parent":1,"source":36,"target":37},{"import":1,"source":36,"target":6},{"import":1,"source":36,"target":17},{"import":1,"source":36,"target":28},{"import":1,"source":36,"target":27},{"import":1,"source":36,"target":77},{"parent":1,"source":37,"target":38},{"import":1,"source":37,"target":8},{"import":1,"source":37,"target":7},{"import":1,"source":37,"target":19},{"import":1,"source":37,"target":18},{"import":1,"source":37,"target":30},{"import":1,"source":37,"target":29},{"import":1,"source":37,"target":50},{"import":1,"source":37,"target":49},{"import":1,"source":37,"target":48},{"import":1,"source":37,"target":47},{"import":1,"source":37,"target":60},{"import":1,"source":37,"target":59},{"import":1,"source":37,"target":58},{"import":1,"source":37,"target":70},{"import":1,"source":37,"target":69},{"import":1,"source":37,"target":68},{"import":1,"source":37,"target":79},{"import":1,"source":37,"target":78},{"parent":1,"source":38,"target":39},{"import":1,"source":38,"target":9},{"parent":1,"source":39,"target":40},{"import":1,"source":39,"target":10},{"import":1,"source":39,"target":20},{"import":1,"source":39,"target":80},{"parent":1,"source":41,"target":42},{"import":1,"source":41,"target":2},{"import":1,"source":41,"target":1},{"import":1,"source":41,"target":13},{"import":1,"source":41,"target":12},{"import":1,"source":41,"target":24},{"import":1,"source":41,"target":23},{"import":1,"source":41,"target":33},{"import":1,"source":41,"target":32},{"import":1,"source":41,"target":54},{"import":1,"source":41,"target":53},{"import":1,"source":41,"target":64},{"import":1,"source":41,"target":63},{"import":1,"source":41,"target":73},{"import":1,"source":41,"target":72},{"parent":1,"source":42,"target":43},{"parent":1,"source":43,"target":44},{"import":1,"source":43,"target":3},{"import":1,"source":43,"target":14},{"import":1,"source":43,"target":25},{"import":1,"source":43,"target":35},{"import":1,"source":43,"target":34},{"import":1,"source":43,"target":56},{"import":1,"source":43,"target":55},{"import":1,"source":43,"target":66},{"import":1,"source":43,"target":65},{"import":1,"source":43,"target":74},{"parent":1,"source":44,"target":45},{"import":1,"source":44,"target":5},{"import":1,"source":44,"target":4},{"import":1,"source":44,"target":16},{"import":1,"source":44,"target":15},{"import":1,"source":44,"target":26},{"import":1,"source":44,"target":36},{"import":1,"source":44,"target":57},{"import":1,"source":44,"target":67},{"import":1,"source":44,"target":76},{"import":1,"source":44,"target":75},{"parent":1,"source":45,"target":46},{"parent":1,"source":46,"target":47},{"import":1,"source":46,"target":7},{"import":1,"source":46,"target":6},{"import":1,"source":46,"target":18},{"import":1,"source":46,"target":17},{"import":1,"source":46,"target":29},{"import":1,"source":46,"target":28},{"import":1,"source":46,"target":27},{"import":1,"source":46,"target":59},{"import":1,"source":46,"target":58},{"import":1,"source":46,"target":69},{"import":1,"source":46,"target":68},{"import":1,"source":46,"target":78},{"import":1,"source":46,"target":77},{"import":1,"source":46,"target":37},{"parent":1,"source":47,"target":48},{"import":1,"source":47,"target":8},{"import":1,"source":47,"target":19},{"import":1,"source":47,"target":30},{"import":1,"source":47,"target":39},{"import":1,"source":47,"target":38},{"import":1,"source":47,"target":60},{"import":1,"source":47,"target":70},{"import":1,"source":47,"target":79},{"parent":1,"source":48,"target":49},{"import":1,"source":48,"target":9},{"parent":1,"source":49,"target":50},{"import":1,"source":50,"target":10},{"import":1,"source":50,"target":20},{"import":1,"source":50,"target":80},{"import":1,"source":50,"target":40},{"parent":1,"source":51,"target":52},{"parent":1,"source":52,"target":53},{"import":1,"source":52,"target":1},{"import":1,"source":52,"target":13},{"import":1,"source":52,"target":12},{"import":1,"source":52,"target":24},{"import":1,"source":52,"target":23},{"import":1,"source":52,"target":33},{"import":1,"source":52,"target":32},{"import":1,"source":52,"target":43},{"import":1,"source":52,"target":42},{"import":1,"source":52,"target":64},{"import":1,"source":52,"target":63},{"import":1,"source":52,"target":73},{"import":1,"source":52,"target":72},{"parent":1,"source":53,"target":54},{"import":1,"source":53,"target":2},{"parent":1,"source":54,"target":55},{"import":1,"source":54,"target":3},{"import":1,"source":54,"target":14},{"import":1,"source":54,"target":25},{"import":1,"source":54,"target":35},{"import":1,"source":54,"target":34},{"import":1,"source":54,"target":44},{"import":1,"source":54,"target":66},{"import":1,"source":54,"target":65},{"import":1,"source":54,"target":74},{"parent":1,"source":55,"target":56},{"import":1,"source":55,"target":4},{"parent":1,"source":56,"target":57},{"import":1,"source":56,"target":5},{"import":1,"source":56,"target":16},{"import":1,"source":56,"target":15},{"import":1,"source":56,"target":26},{"import":1,"source":56,"target":36},{"import":1,"source":56,"target":46},{"import":1,"source":56,"target":45},{"import":1,"source":56,"target":67},{"import":1,"source":56,"target":76},{"import":1,"source":56,"target":75},{"parent":1,"source":57,"target":58},{"import":1,"source":57,"target":7},{"import":1,"source":57,"target":6},{"import":1,"source":57,"target":18},{"import":1,"source":57,"target":17},{"import":1,"source":57,"target":29},{"import":1,"source":57,"target":28},{"import":1,"source":57,"target":27},{"import":1,"source":57,"target":47},{"import":1,"source":57,"target":69},{"import":1,"source":57,"target":68},{"import":1,"source":57,"target":78},{"import":1,"source":57,"target":77},{"import":1,"source":57,"target":37},{"parent":1,"source":58,"target":59},{"parent":1,"source":59,"target":60},{"import":1,"source":59,"target":9},{"import":1,"source":59,"target":8},{"import":1,"source":59,"target":19},{"import":1,"source":59,"target":30},{"import":1,"source":59,"target":39},{"import":1,"source":59,"target":38},{"import":1,"source":59,"target":50},{"import":1,"source":59,"target":49},{"import":1,"source":59,"target":48},{"import":1,"source":59,"target":70},{"import":1,"source":59,"target":79},{"import":1,"source":60,"target":10},{"import":1,"source":60,"target":20},{"import":1,"source":60,"target":40},{"import":1,"source":60,"target":80},{"parent":1,"source":61,"target":62},{"parent":1,"source":62,"target":63},{"import":1,"source":62,"target":2},{"import":1,"source":62,"target":1},{"import":1,"source":62,"target":13},{"import":1,"source":62,"target":12},{"import":1,"source":62,"target":24},{"import":1,"source":62,"target":23},{"import":1,"source":62,"target":33},{"import":1,"source":62,"target":32},{"import":1,"source":62,"target":43},{"import":1,"source":62,"target":42},{"import":1,"source":62,"target":54},{"import":1,"source":62,"target":53},{"import":1,"source":62,"target":73},{"import":1,"source":62,"target":72},{"parent":1,"source":63,"target":64},{"parent":1,"source":64,"target":65},{"import":1,"source":64,"target":4},{"import":1,"source":64,"target":3},{"import":1,"source":64,"target":14},{"import":1,"source":64,"target":25},{"import":1,"source":64,"target":35},{"import":1,"source":64,"target":34},{"import":1,"source":64,"target":44},{"import":1,"source":64,"target":56},{"import":1,"source":64,"target":55},{"import":1,"source":64,"target":74},{"parent":1,"source":65,"target":66},{"parent":1,"source":66,"target":67},{"import":1,"source":66,"target":5},{"import":1,"source":66,"target":16},{"import":1,"source":66,"target":15},{"import":1,"source":66,"target":26},{"import":1,"source":66,"target":36},{"import":1,"source":66,"target":46},{"import":1,"source":66,"target":45},{"import":1,"source":66,"target":57},{"import":1,"source":66,"target":76},{"import":1,"source":66,"target":75},{"parent":1,"source":67,"target":68},{"import":1,"source":67,"target":7},{"import":1,"source":67,"target":6},{"import":1,"source":67,"target":18},{"import":1,"source":67,"target":17},{"import":1,"source":67,"target":29},{"import":1,"source":67,"target":28},{"import":1,"source":67,"target":27},{"import":1,"source":67,"target":47},{"import":1,"source":67,"target":59},{"import":1,"source":67,"target":58},{"import":1,"source":67,"target":78},{"import":1,"source":67,"target":77},{"import":1,"source":67,"target":37},{"parent":1,"source":68,"target":69},{"parent":1,"source":69,"target":70},{"import":1,"source":69,"target":8},{"import":1,"source":69,"target":19},{"import":1,"source":69,"target":30},{"import":1,"source":69,"target":39},{"import":1,"source":69,"target":38},{"import":1,"source":69,"target":50},{"import":1,"source":69,"target":49},{"import":1,"source":69,"target":48},{"import":1,"source":69,"target":60},{"import":1,"source":69,"target":79},{"import":1,"source":70,"target":10},{"import":1,"source":70,"target":9},{"import":1,"source":70,"target":20},{"import":1,"source":70,"target":40},{"import":1,"source":70,"target":80},{"parent":1,"source":71,"target":72},{"import":1,"source":71,"target":2},{"import":1,"source":71,"target":1},{"import":1,"source":71,"target":13},{"import":1,"source":71,"target":12},{"import":1,"source":71,"target":24},{"import":1,"source":71,"target":23},{"import":1,"source":71,"target":33},{"import":1,"source":71,"target":32},{"import":1,"source":71,"target":43},{"import":1,"source":71,"target":42},{"import":1,"source":71,"target":54},{"import":1,"source":71,"target":53},{"import":1,"source":71,"target":64},{"import":1,"source":71,"target":63},{"parent":1,"source":72,"target":73},{"parent":1,"source":73,"target":74},{"import":1,"source":73,"target":4},{"import":1,"source":73,"target":3},{"import":1,"source":73,"target":14},{"import":1,"source":73,"target":25},{"import":1,"source":73,"target":35},{"import":1,"source":73,"target":34},{"import":1,"source":73,"target":44},{"import":1,"source":73,"target":56},{"import":1,"source":73,"target":55},{"import":1,"source":73,"target":66},{"import":1,"source":73,"target":65},{"parent":1,"source":74,"target":75},{"import":1,"source":74,"target":5},{"import":1,"source":74,"target":16},{"import":1,"source":74,"target":15},{"import":1,"source":74,"target":26},{"import":1,"source":74,"target":36},{"import":1,"source":74,"target":46},{"import":1,"source":74,"target":45},{"import":1,"source":74,"target":57},{"import":1,"source":74,"target":67},{"parent":1,"source":75,"target":76},{"parent":1,"source":76,"target":77},{"import":1,"source":76,"target":6},{"import":1,"source":76,"target":17},{"import":1,"source":76,"target":28},{"import":1,"source":76,"target":27},{"import":1,"source":76,"target":37},{"parent":1,"source":77,"target":78},{"import":1,"source":77,"target":7},{"import":1,"source":77,"target":18},{"import":1,"source":77,"target":29},{"import":1,"source":77,"target":47},{"import":1,"source":77,"target":59},{"import":1,"source":77,"target":58},{"import":1,"source":77,"target":69},{"import":1,"source":77,"target":68},{"parent":1,"source":78,"target":79},{"import":1,"source":78,"target":8},{"import":1,"source":78,"target":19},{"import":1,"source":78,"target":30},{"import":1,"source":78,"target":39},{"import":1,"source":78,"target":38},{"import":1,"source":78,"target":50},{"import":1,"source":78,"target":49},{"import":1,"source":78,"target":48},{"import":1,"source":78,"target":60},{"import":1,"source":78,"target":70},{"parent":1,"source":79,"target":80},{"import":1,"source":79,"target":10},{"import":1,"source":79,"target":9},{"import":1,"source":79,"target":20},{"import":1,"source":79,"target":40}]};


// future Use
/* d3.json(url, data => {}) */


let container = d3.select("#chart");
let w = () => container.node().clientWidth;
let h = () => container.node().clientHeight;


let svg = container.append("svg");
let g = svg.append("g").attr("class", "graph");


function resizeViewBox() {
    svg.attr("viewBox", `0 0 ${w()} ${h()}`);
    svg.call(d3.zoom().extent([[0, 0], [w(), h()]]).scaleExtent([0.75, 10])
        .on("zoom", ({transform}) => g.attr("transform", transform)));
}
resizeViewBox();
window.addEventListener('resize', resizeViewBox);


// title
g.append("g").attr("class", "title")
    .append("text")
    .text("Blocks by Shard over Time")
    .attr("transform", `translate(${w()/2}, ${h()*0.05})`)
    .attr("fill", "currentColor")
    .style("text-anchor", "middle")
    .style("font-size", "125%")
    .style("text-decoration", "underline")


// scale x
let min_timestamp = Math.min(...data.nodes.map(d => d.timestamp)) / 1000;
let max_timestamp = Math.max(...data.nodes.map(d => d.timestamp)) / 1000;
let x = d3.scaleLinear().domain([min_timestamp, max_timestamp]).range([100, w()-100]);
g.append("g").attr("class", "scale_x")
    .attr("transform", `translate(0, ${h()-h()*0.05})`).call(d3.axisBottom(x))
    .append("text").text("Timestamp")
    .attr("transform", `translate(${w()/2}, ${h()*0.033})`)
    .attr("fill", "currentColor")
    .style("text-anchor", "middle")


// scale y
let max_shard = Math.max(...data.nodes.map(d => d.shard));
let color_index = (i) => `hsl(${360 / max_shard * i}, 100%, 50%)`;
let y = d3.scaleLinear().domain([max_shard, 0]).range([100, h()-100]);
g.append("g").attr("class", "scale_y")
    .attr("transform", `translate(${w()*0.05}, 0)`)
    .call(d3.axisLeft(y))
    .append("text").attr("transform", `translate(${-w()*0.033}, ${h()/2})`)
    .attr("fill", "currentColor")
    .style("text-anchor", "middle")
    .text("Shard")


// gridlines x
g.append("g").attr("class", "gridlines_X")
    .selectAll("line").data(data.nodes).enter()
    .append("line")
    .attr("x1", n => x(n.timestamp / 1000))
    .attr("y1", n => y(n.shard))
    .attr("x2", n => x(n.timestamp / 1000))
    .attr("y2", h()-h()*0.05)
    .style("stroke", "white")
    .style("stroke-opacity", 0.1)
    .style("stroke-dasharray", "1")


// links
let n = (i) => data.nodes[i - 1]
let color_ref = (l) => `s${l.source}t${l.target}`
let links = g.append("g").attr("class", "links")
    .call(selection => {
        selection.append("defs").selectAll("linearGradient").data(data.links).enter()
            .append("linearGradient")
            .attr("id", l => color_ref(l))
            .attr("x1", l => x(n(l.source).timestamp / 1000))
            .attr("y1", l => y(n(l.source).shard))
            .attr("x2", l => x(n(l.target).timestamp / 1000))
            .attr("y2", l => y(n(l.target).shard))
            .attr("gradientUnits", "userSpaceOnUse")
            .call(selection => {
                selection.append("stop").attr("stop-color", l => color_index(n(l.source).shard)).attr("offset", 0)
                selection.append("stop").attr("stop-color", l => color_index(n(l.target).shard)).attr("offset", 1)
            })
    })
    .selectAll("line").data(data.links).enter()
    .append("line")
    .attr("x1", l => x(n(l.source).timestamp / 1000))
    .attr("y1", l => y(n(l.source).shard))
    .attr("x2", l => x(n(l.target).timestamp / 1000))
    .attr("y2", l => y(n(l.target).shard))
    .style("stroke-width", 2)
    .style("stroke-opacity", 0.5)
    .style("stroke", l => `url(#${color_ref(l)})`)
    .on("mouseover", (event, link) => {
        d3.select(event.target)
            .style("stroke", "white")
            .style("stroke-opacity", 1)
    })
    .on("mouseout", (event, d) => {
        let link_doms = d3.select(event.target)
        link_doms
            .style("stroke", l => `url(#${color_ref(l)})`)
            .style("stroke-opacity", 0.5)
    })


// block info
let info = container.append("div").attr("class", "info")
    .style("position", "absolute")
    .style("padding", "1em")
    .style("color", "white")
    .style("text-anchor", "middle")
    .text("<click_node_to_get_data>")


// nodes
let nodes = g.append("g").attr("class", "nodes")
    .selectAll("circle").data(data.nodes).enter()
    .append("circle")
    .attr("cx", n => x(n.timestamp / 1000))
    .attr("cy", n => y(n.shard))
    .style("fill", n => color_index(n.shard))
    .style("r", 4)
    .style("stroke", "#ffffffaf")
    .on("mouseover", (event, node) => {
        d3.select(event.target)
            .style("fill", "white")
            .style("stroke", "black")

        links
            .style("stroke", l => (l.source === node.id) ? "white" : `url(#${color_ref(l)})`)
            .style("stroke-opacity", l => (l.source === node.id) ? 1 : 0.5)
            .style("z-index", 1)
            .sort(l => l.source === node.id ? 1 : -1)

    })
    .on("mouseout", (event, d) => {
        d3.select(event.target)
            .style("fill", a => color_index(a.shard))
            .style("stroke", "white")
        links
            .style("stroke", l => `url(#${color_ref(l)})`)
            .style("stroke-opacity", 0.5)
    })
    .on("click", (event, d) => {
        info.text(JSON.stringify(d))
    })